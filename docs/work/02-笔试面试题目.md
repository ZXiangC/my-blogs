

### 阿里面试 1

电话面试

#### 校招问题

1. 什么是哈希表数据结构？然后延伸到哈希冲突处理，哈希算法，一致性哈希，以及Java中的HashMap？哈希冲突的处理方式有集中？
2. 如何统计一本英文书里面出现频率最高的10个单词（hash + 最小堆）
开放问题
1. 假设使用你所熟悉的语言写一个hello word程序，从编码开始到运行，背后有哪些过程？
2. 抽象类和接口你是如何理解的？设计上如何选择？
3. 挑一个市面上比较火热的app，问一下实现原理，主要考察整体架构设计能力，和对新鲜事物的好奇心。
4. 一个大文件4G,里面一行行的数字,这时内存只有256M,如果做排序?
5. 如果你部署的应用所在机器硬盘坏了,会发生什么?你的程序要如何处理这种异 常?(分布式系统中故障是一种常态,设计要避免单点故障,能容错,保证系统高
可用)
6. 实现一个消息队列系统
7. 如何设计一个高可用的架构
8. 多次Hash来解决URL重复访问问题。
9. 全局唯一ID问题。
10. 秒杀如何设计。
11. 如何进行性能优化。
12. 发现CPU 100%,如何排查?
13. 实现一个分布式打点系统。
14. taobao.com和tmall.com的互相登录的问题。
15. 如何快速对一个2亿数据的List进行排序? 
操作系统
1. 线程同步的方式有哪些？
• 互斥量：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。
• 信号量：它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。
• 事件（信号）：通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操作。
2. 什么是死锁？死锁产生的条件？
在两个或者多个并发进程中，如果每个进程持有某种资源而又等待其它进程释放它或它们现在保持着的资源，在未改变这种状态之前都不能向前推进，称这一组进程产生了死锁。通俗的讲就是两个或多个进程无限期的阻塞、相互等待的一种状态。
死锁产生的四个条件（有一个条件不成立，则不会产生死锁）
• 互斥条件：一个资源一次只能被一个进程使用
• 请求与保持条件：一个进程因请求资源而阻塞时，对已获得资源保持不放
• 不剥夺条件：进程获得的资源，在未完全使用完之前，不能强行剥夺
• 循环等待条件：若干进程之间形成一种头尾相接的环形等待资源关系
3. 什么是进程和线程？
（1）  进程就是一个应用程序在处理机上的一次执行过程，它是一个动态的概念，而线程是进程中的一部分，进程包含多个线程在运行。
（2）  进程是一个具有独立功能的程序关于某个数据集合的一次运行活动。它可以申请和拥有系统资源，是一个动态的概念，是一个活动的实体，它不只是程序的代码，还包括当前的活动，通过程序计数器的值和处理寄存器的内容来表示。
（3）  通常在一个进程中可以包含若干个线程，它们可以利用进程所拥有的资源。在引入线程的操作系统中，通常都是把进程作为分配资源的基本单位，而把线程作为独立运行和独立调度的基本单位。由于线程比进程更小，基本上不拥有系统资源，故对它的调度所付出的开销就会小得多，能更高效的提高系统内多个程序间并发执行的程度。
4. 进程和线程的区别是什么？
（1）  地址空间和其它资源：进程间相互独立，同一进程的各线程间共享。某进程内的线程在其它进程不可见。
（2）  通信：进程间通信IPC，线程间可以直接读写进程数据段（如全局变量）来进行通信——需要进程同步和互斥手段的辅助，以保证数据的一致性。
（3）  调度和切换：线程上下文切换比进程上下文切换要快得多。
（4）  在多线程OS中，进程不是一个可执行的实体。
5. 什么是线程安全和线程不安全？
 （1）  如果你的代码所在的进程中有多个线程在同时运行，而这些线程可能会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。 
（2）  或者说:一个类或者程序所提供的接口对于线程来说是原子操作或者多个线程之间的切换不会导致该接口的执行结果存在二义性,也就是说我们不用考虑同步的问题。线程安全问题都是由全局变量及静态变量引起的。
（3）  若每个线程中对全局变量、静态变量只有读操作，而无写操作，一般来说，这个全局变量是线程安全的；若有多个线程同时执行写操作，一般都需要考虑线程同步，否则就可能影响线程安全。       
（4）  线程安全就是多线程访问时，采用了加锁机制，当一个线程访问该类的某个数据时，进行保护，其他线程不能进行访问直到该线程读取完，其他线程才可使用。不会出现数据不一致或者数据污染。 
线程不安全就是不提供数据访问保护，有可能出现多个线程先后更改数据造成所得到的数据是脏数据
计算机网络
1. GET和POST的区别
（1）  Get是从服务器端获取数据，Post则是向服务器端发送数据。
（2）  在客户端，Get方式通过URL提交数据，在URL地址栏可以看到请求消息，该消息被编码过；Post数据则是放在Html header内提交。
（3）  对于Get方式，服务器端用Request.QueryString获取变量的值；对用Post方式，服务器端用Request.Form获取提交的数据值。
（4）  Get方式提交的数据最多1024字节，而Post则没有限制。
（5）  Get方式提交的参数及参数值会在地址栏显示，不安全，而Post不会，比较安全
2. GET和POST两种HTTP方式适合在什么样的场景下使用
1）  POST用于创建资源，资源的内容会被编入HTTP请示的内容中。例如，处理订货表单、在数据库中加入新数据行等。
（2）  当请求无副作用时（如进行搜索），便可使用GET方法；当请求有副作用时（如添加数据行），则用POST方法。一个比较实际的问题是：GET方法可能会产生很长的URL，或许会超过某些浏览器与服务器对URL长度的限制。
（3）  若符合下列任一情况，则用POST方法：请求的结果有持续性的副作用，例如，数据库内添加新的数据行。  若使用GET方法，则表单上收集的数据可能让URL过长。要传送的数据不是采用7位的ASCII编码。
（4）  若符合下列任一情况，则用GET方法：请求是为了查找资源，HTML表单数据仅用来帮助搜索。请求结果无持续性的副作用。收集的数据及HTML表单内的输入字段名称的总长不超过1024个字符。
3. 当你在浏览器中输入 www.taobao.com 然后访问的时候整个过程是什么样的？越详细越好。
具体答案可以参考 https://blog.csdn.net/tzs_1041218129/article/details/50959847
4. TCP断开连接的过程。
5. 浏览器发生302跳转背后的逻辑?
6. HTTP协议的交互流程。HTTP和HTTPS的差异,SSL的交互流程?
7. Rest和Http什么关系? 大家都说Rest很轻量,你对Rest风格如何理解?
8. TCP的滑动窗口协议有什么用?讲讲原理。
9. HTTP协议都有哪些方法?
10. 交换机和路由器的区别?
11. 什么是VLAN,有什么作用?
12. 什么是VXLAN,有什么作用?
13. http协议(报文结构,断点续传,多线程下载,什么是长连接)
14. tcp协议(建连过程,慢启动,滑动窗口,七层模型)
15. webservice协议(wsdl/soap格式,与rest协议的区别)
16. spdy/http2.0协议是否有了解
39. NIO的好处,Netty线程模型,什么是零拷贝

#### 数据库

1. MySQL InnoDB的特点?
2. 乐观锁和悲观锁的区别?
3. 数据库隔离级别是什么?有什么作用?
4. MySQL主备同步的基本原理。
5. 如何从一张表中查出name字段包含“XYZ”的所有行?
6. 索引数据结构(字典+BitTree)
7. 如何优化数据库性能(索引、分库分表、批量操作、分页算法、升级硬盘SSD、业
  务优化、主从部署)
8. SQL什么情况下不会使用索引(不包含,不等于,函数)
9. 一般在什么字段上建索引(过滤数据最多的字段)
10. 如何从一张表中查出name字段不包含“XYZ”的所有行?
11. MySQL,B+索引实现,行锁实现,SQL优化
12. Redis,RDB和AOF,如何做高可用、集群
13. 如何解决高并发减库存问题
14. mysql存储引擎中索引的实现机制;
15. 数据库事务的几种粒度;
16. 行锁,表锁;乐观锁,悲观锁
17. 什么是数据库连接池

#### Java基础

1. JAVA面试集团题目 https://www.atatech.org/articles/41220
2. 实例方法和静态方法有什么不一样?
3. Java中的异常有哪几类?分别怎么使用?
4. 常用的集合类有哪些?比如List如何排序?
5. ArrayList和LinkedList内部的实现大致是怎样的?他们之间的区别和各自适应的场景
  是什么?
6. 内存溢出是怎么回事?
7. ClassLoader有什么用?
8. ==和equals的区别?
9. hashCode方法的作用?
10. Object类中有哪些方法?列举3个以上。
11. NIO是什么?适用于何种场景?
12. HashMap数据结构、扩展策略,Hash冲突攻击如何防范,如何实现线程安全的
     HashMap?
13. JVM内存结构,GC算法,CMS、G1的原理
14. NIO模型,select/epoll的区别,多路复用的原理
15. Java中一个字符占多少个字节,扩展再问int, long, double占多少字节
16. 创建一个类的实例都有哪些办法?
17. final/finally/finalize的区别?
18. LinkingBlockingQueue与ArrayBlockingQueue的区别,他们的适用场景?
19. Session/Cookine的区别?
20. String/StringBuffer/StringBuilder的区别,扩展再问他们的实现?
21. Servlet的生命周期?
22. 如何用Java分配一段连续的1G的内存空间?需要注意些什么?
23. Java有自己的内存回收机制,但为什么还存在内存泄露的问题呢?
24. Java里面用对象作为Key需要注意些什么? 如何实现hashcode?
     JVM
25. JVM堆的基本结构。
26. JVM的垃圾算法有哪几种?CMS收集算法的流程?
27. JVM有哪些常用启动参数可以调整?
28. 如何查看JVM的内存使用情况?
29. Java程序是否会内存溢出?
30. 你常用的JVM配置和调优参数都有哪些?分别什么作用?
31. Java内存分代模型,GC算法,JVM常见的启动参数;
32. CMS算法的过程,CMS回收过程中JVM是否需要暂停(这块回答较好,也可以只是 看毕玄的Java分布式开发或网上文章的学习, 可以结合JVM启动参数常见配置, jstat等命令,看下动手能力,意愿;以及实际线上问题排查)
33. StackOverFlowError 是如何产生的？
34. 什么情况下会出现OOM(堆内存,永久区,堆外区,方法栈)
35. Java内存结构(堆结构,新生代[S0/S1/Elden],年老代,持久代)
36. 常用的GC策略,什么时候会触发YGC,什么时候触发FGC
     数据结构与算法基础
37. 树形结构有哪几种（二叉树、完全二叉树、完全二叉树、满二叉树、平衡二叉树、红黑树、排序二叉树、B树）？说说B树和B+树的区别，以一个m阶树为例。
   a. 关键字的数量不同；B+树中分支结点有m个关键字，其叶子结点也有m个，其关键字只是起到了一个索引的作用，但是B树虽然也有m个子结点，但是其只拥有m-1个关键字。
   b. 存储的位置不同；B+树中的数据都存储在叶子结点上，也就是其所有叶子结点的数据组合起来就是完整的数据，但是B树的数据存储在每一个结点中，并不仅仅存储在叶子结点上。
   c. 分支结点的构造不同；B+树的分支结点仅仅存储着关键字信息和儿子的指针（这里的指针指的是磁盘块的偏移量），也就是说内部结点仅仅包含着索引信息。
   d. 查询不同；B树在找到具体的数值以后，则结束，而B+树则需要通过索引找到叶子结点中的数据才结束，也就是说B+树的搜索过程中走了一条从根结点到叶子结点的路径。
38. 描述数组、链表、队列、堆栈的区别？
   数组与链表是数据存储方式的概念，数组在连续的空间中存储数据，而链表可以在非连续的空间中存储数据；
   队列和堆栈是描述数据存取方式的概念，队列是先进先出，而堆栈是后进先出；队列和堆栈可以用数组来实现，也可以用链表实现。
39. 你知道几种排序,讲一讲各个算法在时间复杂度、空间复杂度、稳定性方面各自的表现。
   一组打乱的数字，需要你从大到小排序，请用分别用冒泡排序和选择排序来实现它。
   冒泡排序：
   具体算法描述如下：
   ·       <1>.比较相邻的元素。如果第一个比第二个大，就交换它们两个；
   ·       <2>.对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对，这样在最后的元素应该会是最大的数；
   ·       <3>.针对所有的元素重复以上的步骤，除了最后一个；
   ·       <4>.重复步骤1~3，直到排序完成。
   选择排序：
   n个记录的直接选择排序可经过n-1趟直接选择排序得到有序结果。具体算法描述如下：
   ·       <1>.初始状态：无序区为R[1..n]，有序区为空；
   ·       <2>.第i趟排序(i=1,2,3...n-1)开始时，当前有序区和无序区分别为R[1..i-1]和R(i..n）。该趟排序 从当前无序区中-选出关键字最小的记录R[k]，将它与无序区的第1个记录R交换，使R[1..i]和R[i+1..n)分别变为记录个数增加1个的新有序区和记录个数减少1个的新无序区；
   ·       <3>.n-1趟结束，数组有序化了。
40. 说一下几种常见的排序算法和分别的复杂度。
41. 什么是跳表?
42. 如何确认一个链表有环?进一步,确认环的位置。
43. 如何遍历一棵二叉树?
44. 倒排一个LinkedList。
45. HashSet的实现方式 ### 多线程/并发
46. Java中常见的锁,互斥锁,读写锁,信号量
47. 原子Atomic类,如何保证原子性,CAS硬件指令
48. volatile,可见性问题的原因,硬件架构,L3 Cache,QPI,乐观锁
49. 如何实现一个线程安全的数据结构 如何避免死锁
50. 如何解决ABA问题
51. Synchronized关键字的作用?
52. Volatile关键字的作用?
53. Java内存模型是怎样的?
54. HashMap在多线程环境下使用需要注意什么?为什么?
55. Java程序中启动一个线程是用run()还是start()?
56. 什么是守护线程?有什么用?
57. 什么是死锁?如何避免
58. 线程和进程的差别是什么?
59. Java里面的Threadlocal是怎样实现的?
60. ConcurrentHashMap的实现原理是?
61. sleep和wait区别
62. notify和notifyAll区别
63. volatile关键字的作用
64. ThreadLocal的作用与实现
65. 两个线程如何串行执行
66. 上下文切换是什么含义
67. 可以运行时kill掉一个线程吗?
68. 什么是条件锁、读写锁、自旋锁、可重入锁?
69. 什么是协程(用户态线程,减少数据拷贝,降低CPU开销,无callback函数)?
70. 线程池ThreadPoolExecutor的实现原理?
71. J.U.C下的常见类的使用。lock, synchronized, ThreadPool的深入考察; BlockingQueue的使用。(take,poll的区别,put,offer的区别);原子类的实现。
72. 各种常见锁使用如果上面这些掌握很好,还可以看看更深一点的 False Sharing, Cache Line,可见性与原子性等;
     Linux使用与问题排查
73. 硬链接和软链接的区别?
74. inode是什么?
75. Linux常用命令有哪些?
76. 怎么看一个Java线程的资源耗用?
77. Load过高的可能性有哪些?
78. /etc/hosts文件什么做用?
79. /etc/resolv.conf文件什么作用?
80. 如何快速的将一个文本中所有“abc”替换为“xyz”?
81. 你常用的Linux下用来进行网络和磁盘IO分析的工具有哪些?
82. 你常用的Linux下用来进行内存和CPU分析的工具有哪些?
83. 发现磁盘空间不够,如何快速找出占用空间最大的文件?
84. Java服务端问题排查(OOM,CPU高,Load高,类冲突)
85. Java常用问题排查工具及用法
     (top, iostat, vmstat, sar, tcpdump, jvisualvm, jmap, jconsole)
86. Thread dump文件如何分析(Runnable,锁,代码栈,操作系统线程ID关联)
87. grep,awk,sed; 是否自己写过shell脚本;
88. 常见的cpu load过高,us过高,一般是什么问题。引申出是否用过top,jstat,jstack
     等。
89. 常见的内存问题一般有哪些。 引申出是否用过free,top, jmap等。
     redis等缓存系统/中间件/NoSQL/一致性Hash等
90. 列举一个常用的Redis客户端的并发模型。
91. HBase如何实现模糊查询?
92. 列举一个常用的消息中间件,如果消息要保序如何实现?
93. 如何实现一个Hashtable?你的设计如何考虑Hash冲突?如何优化? 分布式缓存,一致性hash
94. LRU算法,slab分配,如何减少内存碎片
95. 如何解决缓存单机热点问题
96. 什么是布隆过滤器,其实现原理是? False positive指的是?
97. memcache与redis的区别
98. zookeeper有什么功能,选举算法如何进行
99. map/reduce过程,如何用map/reduce实现两个数据源的联合统计

#### 设计模式与重构

1. 你在设计一个工厂的包的时候会遵循哪些原则?
2. 你能列举一个使用了Visitor/Decorator模式的开源项目/库吗?
3. 你在编码时最常用的设计模式有哪些?在什么场景下用?
4. 如何实现一个单例?
5. 代理模式(动态代理)
6. 单例模式(懒汉模式,恶汉模式,并发初始化如何解决,volatile与lock的使用)
7. JDK源码里面都有些什么让你印象深刻的设计模式使用,举例看看?
8. Reactor模式
9. 抽象类和接口你是如何理解的？设计上如何选择？
  学习与进取心
10. 平时会关注哪些技术?
11. 会看那些技术博客和网站?
12. 技术上有没有偶像?
13. 看过哪些技术书籍?
14. 你平常都看些什么书?你去年和今年看的书中印象最深的基本技术书籍和非技术书籍是?
15. (如果不看书)你平常都上哪些技术论坛?最喜欢哪个?为什么?
16. 项目或产品中用到了什么新技术或框架
17. 最近研究过什么业界流行的技术或框架
18. 对现在所做的项目或产品的缺陷是否了解,有何规划
19. 是否有带过项目,如何管理项目
20. 是否有带过团队,团队管理最大的挑战点是什么
     抗压能力及抗压意愿
21. 刚才你说的XXX实现跟那个开源的YYY很像,是不是抄来的? 对加班怎么看?
22. 平台是否有加班,是主动还是被动,是否非常抗拒
23. 是否有负责多件事情,多件事情如何并行处理
24. 你对你最近负责项目中最自豪的点是什么?

#### 稳定性考察

1. 了解家庭婚姻状况, 了解购房及居住地,籍贯情况,了解目前薪资,评估稳定性
2. 如果让你接手一个历史悠久的模块,你会怎么做?
3. 看简历跳槽情况,针对性发问,如跳槽频繁的话问清楚为什么
  开放性问题
4. 一个大文件4G,里面一行行的数字,这时内存只有256M,如果做排序?
5. 如果你部署的应用所在机器硬盘坏了,会发生什么?你的程序要如何处理这种异 常?(分布式系统中故障是一种常态,设计要避免单点故障,能容错,保证系统高
  可用)
6. 实现一个消息队列系统
7. 如何设计一个高可用的架构
8. 多次Hash来解决URL重复访问问题。
9. 全局唯一ID问题。
10. 秒杀如何设计。
11. 如何进行性能优化。
12. 发现CPU 100%,如何排查?
13. 实现一个分布式打点系统。
14. taobao.com和tmall.com的互相登录的问题。
15. 如何快速对一个2亿数据的List进行排序

### 阿里面试 2

在线笔试
在线编程网站
http://alibole.alibaba-inc.com/ ( 阿里提供，推荐）
https://www.codepile.net/pile/QyNod1bV
http://collabedit.com/

1. 写一个邮件查找算法， 可以根据发件人+标题关键字+时间区间 中的任意一个或者几个进行搜索，返回符合查找条件的邮件列表
2. 给已经排序好的数组去除重复的项（看面试候选人能否想到用set把数据添加一遍，然后转换为数组。如果想不到，而是再声明一个新数组，用添加数据跟第一个数组的下一个元素做比较的方式来做，也可以。）
3. 实现N的阶乘，(看面试候选人怎么实现，如果用递归实现，问不用递归如何做，看能否想到用循环的方式；如果用循环，问是否有别的方式，看能否想到用递归，考虑溢出的情况，看会不会用BigDecimal）
4. 实现一个留言本的增加和显示,如果留言超过5个，自动删除最老的,显示返回HTML，每个消息一行，偶数行背景色是灰色
5：IP黑/白名单工具接口
/**
 * ip黑/白名单工具接口, 请为本interface实现一个基于内存的ip黑/白名单具体实现类<br/>
 * 要求'isInList'操作为常数级时间复杂度<br/>
 * 要求'isInList'内部操作完全基于内存，不得有网络或文件读取; 对象初始化部分如构造函数则不受此限制(如初始化时可从文件中load ip名单列表)<br/>
 * 程序设计上，请在满足上述条件的前提下，让此工具所能支持的ip列表数量尽可能大(甚至能否覆盖整个ipv4地址空间?), 内存占用尽可能小；
 * 此工具可能在多线程环境被使用
 */
6. 实现单例模式（注意具体实现是饱汉模式，还是饿汉模式，还是其他；是否有线程安全问题）
7. 实现一个生产者消费者模式。（看下面试候选人是用 传统的线程+互斥同步机制， 还是是用线程池 + 阻塞队列实现，如果是用前者，追问是否了解阻塞队列， 可以继续深入追问对AQS的了解程度）
8. 搜索输入框，输入关键字搜索内容，但如果关键字在黑名单中，则不能被搜索。黑名单每天晚上更新一次。当用户搜索时，会检查当前关键字在不在黑名单当中，如果在，则提示不能搜索。（看下面试候选人是否会用类似CopyOnWriteXXX的思路来实现，或者用ConcurrentHashMap来实现，追问如果数据量很大的情况，从CopyOnWriteXXX可能有什么隐患？）
9.请编写一个红包随机算法。需求为：给定一定的金额，一定的人数，保证每个人都能随机获得一定的金额。比如100元的红包，10个人抢，每人分得一些金额。约束条件为，最佳手气金额不能超过最大金额的90%。请给出java代码实现。